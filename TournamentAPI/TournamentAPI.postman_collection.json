{
  "info": {
    "name": "TournamentAPI",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Create Tournament (Valid)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($input: CreateTournamentInput!) { createTournament(input: $input) { id name startDate status } }\",\n  \"variables\": { \"input\": { \"name\": \"Bracket Test\", \"startDate\": \"2025-01-01T00:00:00Z\", \"status\": \"CLOSED\" } }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Add Participant 1",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($userId: Int!, $tournamentId: Int!) { addParticipant(userId: $userId, tournamentId: $tournamentId) { id name participants { id firstName lastName } } }\",\n  \"variables\": { \"userId\": 1, \"tournamentId\": 1 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Add Participant 2",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($userId: Int!, $tournamentId: Int!) { addParticipant(userId: $userId, tournamentId: $tournamentId) { id name participants { id firstName lastName } } }\",\n  \"variables\": { \"userId\": 2, \"tournamentId\": 1 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Add Participant 3 (Edge: More than 2)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($userId: Int!, $tournamentId: Int!) { addParticipant(userId: $userId, tournamentId: $tournamentId) { id name participants { id firstName lastName } } }\",\n  \"variables\": { \"userId\": 3, \"tournamentId\": 1 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Generate Bracket (Valid)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($tournamentId: Int!) { generateBracket(tournamentId: $tournamentId) { id matches { id round player1 { id firstName lastName } player2 { id firstName lastName } } } }\",\n  \"variables\": { \"tournamentId\": 1 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Generate Bracket (Edge: Not Enough Participants)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($tournamentId: Int!) { generateBracket(tournamentId: $tournamentId) { id } }\",\n  \"variables\": { \"tournamentId\": 2 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Get All Tournaments",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"query { tournaments { id name startDate status participants { id firstName lastName } } }\"\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Get Matches For Round",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"query($tournamentId: Int!, $roundNumber: Int!) { matchesForRound(tournamentId: $tournamentId, roundNumber: $roundNumber) { id round player1 { id firstName lastName } player2 { id firstName lastName } winner { id firstName lastName } } }\",\n  \"variables\": { \"tournamentId\": 1, \"roundNumber\": 1 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Create Tournament (Edge: Empty Name)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($input: CreateTournamentInput!) { createTournament(input: $input) { id name } }\",\n  \"variables\": { \"input\": { \"name\": \"\", \"startDate\": \"2025-01-01T00:00:00Z\", \"status\": \"OPEN\" } }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Add Participant (Edge: Already Participates)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($userId: Int!, $tournamentId: Int!) { addParticipant(userId: $userId, tournamentId: $tournamentId) { id name } }\",\n  \"variables\": { \"userId\": 1, \"tournamentId\": 1 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    },
    {
      "name": "Add Participant (Edge: Tournament Closed)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"query\": \"mutation($userId: Int!, $tournamentId: Int!) { addParticipant(userId: $userId, tournamentId: $tournamentId) { id name } }\",\n  \"variables\": { \"userId\": 2, \"tournamentId\": 2 }\n}"
        },
        "url": {
          "raw": "https://localhost:7048/graphql",
          "protocol": "https",
          "host": ["localhost"],
          "port": "7048",
          "path": ["graphql"]
        }
      }
    }
  ]
}
